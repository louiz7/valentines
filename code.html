<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Puzzle ğŸ’•</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #1a0a2e 0%, #2d1b4e 30%, #1a0a2e 60%, #0d0520 100%);
    color: #fff;
    overflow-x: hidden;
  }

  .hearts-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }

  .floating-heart {
    position: absolute;
    font-size: 20px;
    opacity: 0.15;
    animation: floatUp linear infinite;
  }

  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(0deg) scale(1); opacity: 0; }
    10% { opacity: 0.15; }
    90% { opacity: 0.15; }
    100% { transform: translateY(-10vh) rotate(360deg) scale(0.5); opacity: 0; }
  }

  .app-container {
    position: relative;
    z-index: 1;
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .screen {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    animation: fadeIn 0.8s ease;
    width: 100%;
  }

  .screen.active {
    display: flex;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-10px); }
    40% { transform: translateX(10px); }
    60% { transform: translateX(-10px); }
    80% { transform: translateX(10px); }
  }

  .shake {
    animation: shake 0.5s ease;
  }

  .big-heart {
    font-size: 80px;
    animation: heartbeat 1.5s ease-in-out infinite;
    margin-bottom: 20px;
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
    60% { transform: scale(1); }
  }

  .question-number {
    font-size: 0.85rem;
    color: #c44dff;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 10px;
  }

  h1 {
    font-size: 2.2rem;
    font-weight: 700;
    background: linear-gradient(135deg, #ff6b9d, #c44dff, #ff6b9d);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 3s linear infinite;
    margin-bottom: 10px;
  }

  @keyframes shimmer {
    0% { background-position: 0% center; }
    100% { background-position: 200% center; }
  }

  h2 {
    font-size: 1.6rem;
    font-weight: 600;
    color: #e8d0f5;
    margin-bottom: 15px;
    line-height: 1.4;
  }

  .subtitle {
    color: #c9a0dc;
    font-size: 1.05rem;
    margin-bottom: 30px;
    max-width: 420px;
    line-height: 1.6;
  }

  .card {
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(196, 77, 255, 0.2);
    border-radius: 20px;
    padding: 40px 30px;
    width: 100%;
    max-width: 480px;
    backdrop-filter: blur(10px);
  }

  .emoji-icon {
    font-size: 50px;
    margin-bottom: 15px;
  }

  input[type="text"], input[type="number"] {
    width: 100%;
    padding: 14px 20px;
    border-radius: 50px;
    border: 2px solid rgba(196, 77, 255, 0.3);
    background: rgba(255, 255, 255, 0.05);
    color: #fff;
    font-size: 1.1rem;
    font-family: 'Poppins', sans-serif;
    text-align: center;
    outline: none;
    transition: all 0.3s ease;
    margin-top: 20px;
  }

  input:focus {
    border-color: #c44dff;
    background: rgba(255, 255, 255, 0.08);
    box-shadow: 0 0 20px rgba(196, 77, 255, 0.2);
  }

  input::placeholder {
    color: rgba(255, 255, 255, 0.3);
  }

  .btn {
    padding: 14px 40px;
    border-radius: 50px;
    border: none;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 20px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .btn-primary {
    background: linear-gradient(135deg, #c44dff, #ff6b9d);
    color: #fff;
    box-shadow: 0 4px 20px rgba(196, 77, 255, 0.4);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 30px rgba(196, 77, 255, 0.6);
  }

  .btn-yes {
    background: linear-gradient(135deg, #ff6b9d, #ff3d7f);
    color: #fff;
    box-shadow: 0 4px 20px rgba(255, 107, 157, 0.4);
    font-size: 1.2rem;
    padding: 16px 60px;
  }

  .btn-yes:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 40px rgba(255, 107, 157, 0.6);
  }

  .feedback {
    margin-top: 15px;
    font-size: 0.95rem;
    min-height: 25px;
  }

  .feedback.error {
    color: #ff6b9d;
  }

  .feedback.success {
    color: #9dff6b;
  }

  /* Slider styles */
  .slider-container {
    width: 100%;
    margin-top: 25px;
  }

  .slider-container input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 5px;
    background: linear-gradient(90deg, rgba(196,77,255,0.3), rgba(255,107,157,0.3));
    outline: none;
    transition: all 0.3s;
  }

  .slider-container input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: linear-gradient(135deg, #c44dff, #ff6b9d);
    cursor: pointer;
    box-shadow: 0 0 15px rgba(196, 77, 255, 0.5);
    transition: all 0.3s;
  }

  .slider-container input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 0 25px rgba(196, 77, 255, 0.8);
  }

  .slider-container input[type="range"]::-moz-range-thumb {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: linear-gradient(135deg, #c44dff, #ff6b9d);
    cursor: pointer;
    border: none;
    box-shadow: 0 0 15px rgba(196, 77, 255, 0.5);
  }

  .slider-value {
    font-size: 2.5rem;
    font-weight: 700;
    margin-top: 15px;
    background: linear-gradient(135deg, #ff6b9d, #c44dff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .slider-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
    font-size: 0.75rem;
    color: #c9a0dc;
  }

  /* Progress bar */
  .progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 4px;
    background: linear-gradient(90deg, #c44dff, #ff6b9d);
    transition: width 0.5s ease;
    z-index: 100;
    box-shadow: 0 0 10px rgba(196, 77, 255, 0.5);
  }

  /* Finale */
  .finale-hearts {
    font-size: 60px;
    margin-bottom: 20px;
  }

  .finale-message {
    font-size: 1.1rem;
    color: #c9a0dc;
    line-height: 1.8;
    margin-top: 20px;
  }

  /* Confetti */
  .confetti-piece {
    position: fixed;
    z-index: 200;
    pointer-events: none;
  }

  @keyframes confettiFall {
    0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
  }

  /* Envelope */
  .envelope-wrapper {
    perspective: 800px;
    margin-bottom: 30px;
    cursor: pointer;
  }

  .envelope {
    width: 200px;
    height: 140px;
    position: relative;
    transition: transform 0.3s ease;
  }

  .envelope:hover {
    transform: scale(1.05);
  }

  .envelope-body {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #ff6b9d, #c44dff);
    border-radius: 10px;
    position: relative;
    box-shadow: 0 8px 30px rgba(196, 77, 255, 0.4);
  }

  .envelope-flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    border-left: 100px solid transparent;
    border-right: 100px solid transparent;
    border-top: 80px solid #d44daa;
    transform-origin: top;
    transition: transform 0.6s ease;
    z-index: 2;
  }

  .envelope.open .envelope-flap {
    transform: rotateX(180deg);
  }

  .envelope-letter {
    position: absolute;
    top: 20px;
    left: 15px;
    right: 15px;
    height: 50px;
    background: #fff;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.6s ease 0.3s;
    z-index: 1;
  }

  .envelope.open .envelope-letter {
    transform: translateY(-60px);
  }

  .envelope-letter span {
    color: #c44dff;
    font-size: 0.7rem;
    font-weight: 600;
  }

  @media (max-width: 500px) {
    h1 { font-size: 1.7rem; }
    h2 { font-size: 1.3rem; }
    .card { padding: 30px 20px; }
    .big-heart { font-size: 60px; }
    .emoji-icon { font-size: 40px; }
  }
</style>
</head>
<body>

<!-- Floating Hearts Background -->
<div class="hearts-bg" id="heartsBg"></div>

<!-- Progress Bar -->
<div class="progress-bar" id="progressBar" style="width: 0%"></div>

<div class="app-container">

  <!-- SCREEN 0: Landing -->
  <div class="screen active" id="screen-0">
    <div class="envelope-wrapper" onclick="openEnvelope()">
      <div class="envelope" id="envelope">
        <div class="envelope-flap"></div>
        <div class="envelope-letter"><span>ğŸ’Œ Click me!</span></div>
        <div class="envelope-body"></div>
      </div>
    </div>
    <h1>Du hast Post ğŸ’Œ</h1>
    <p class="subtitle">Jemand hat dir eine besondere Nachricht geschickt... aber du musst erst ein paar Fragen beantworten, um sie zu lesen!</p>
    <button class="btn btn-primary" onclick="startQuiz()" id="startBtn" style="display:none;">Los geht's! ğŸ’•</button>
  </div>

  <!-- SCREEN 1: Question 1 -->
  <div class="screen" id="screen-1">
    <div class="card">
      <div class="question-number">Frage 1 von 5</div>
      <div class="emoji-icon">âœˆï¸ğŸŒ</div>
      <h2>In welchem Land war unser erster gemeinsamer Urlaub?</h2>
      <input type="text" id="answer1" placeholder="Tippe das Land ein..." onkeydown="if(event.key==='Enter') checkAnswer(1)">
      <div class="feedback" id="feedback1"></div>
      <button class="btn btn-primary" onclick="checkAnswer(1)">PrÃ¼fen âœ¨</button>
    </div>
  </div>

  <!-- SCREEN 2: Question 2 -->
  <div class="screen" id="screen-2">
    <div class="card">
      <div class="question-number">Frage 2 von 5</div>
      <div class="emoji-icon">ğŸ’•ğŸ“…</div>
      <h2>Wie viele Valentinstage haben wir schon zusammen erlebt?</h2>
      <input type="number" id="answer2" placeholder="Eine Zahl..." onkeydown="if(event.key==='Enter') checkAnswer(2)">
      <div class="feedback" id="feedback2"></div>
      <button class="btn btn-primary" onclick="checkAnswer(2)">PrÃ¼fen âœ¨</button>
    </div>
  </div>

  <!-- SCREEN 3: Question 3 -->
  <div class="screen" id="screen-3">
    <div class="card">
      <div class="question-number">Frage 3 von 5</div>
      <div class="emoji-icon">ğŸ—“ï¸ğŸ¥°</div>
      <h2>In wie vielen Tagen sehen wir uns wieder?</h2>
      <input type="number" id="answer3" placeholder="Countdown..." onkeydown="if(event.key==='Enter') checkAnswer(3)">
      <div class="feedback" id="feedback3"></div>
      <button class="btn btn-primary" onclick="checkAnswer(3)">PrÃ¼fen âœ¨</button>
    </div>
  </div>

  <!-- SCREEN 4: Question 4 - Slider -->
  <div class="screen" id="screen-4">
    <div class="card">
      <div class="question-number">Frage 4 von 5</div>
      <div class="emoji-icon">â¤ï¸â€ğŸ”¥</div>
      <h2>Wie sehr liebe ich dich?</h2>
      <div class="slider-container">
        <input type="range" id="loveSlider" min="0" max="100" value="50" oninput="updateSlider()">
        <div class="slider-labels">
          <span>Ein bisschen</span>
          <span>Unendlich ğŸ’–</span>
        </div>
        <div class="slider-value" id="sliderValue">50%</div>
      </div>
      <div class="feedback" id="feedback4"></div>
      <button class="btn btn-primary" onclick="checkAnswer(4)">PrÃ¼fen âœ¨</button>
    </div>
  </div>

  <!-- SCREEN 5: Question 5 - Will you be my Valentine -->
  <div class="screen" id="screen-5">
    <div class="card">
      <div class="question-number">Letzte Frage</div>
      <div class="emoji-icon">ğŸ’˜</div>
      <h2>Will you be my Valentine?</h2>
      <p class="subtitle" style="margin-top:10px;">Es gibt nur eine richtige Antwort... ğŸ˜</p>
      <button class="btn btn-yes" onclick="checkAnswer(5)" id="yesBtn">Yes! ğŸ’–</button>
      <button class="btn btn-primary" onclick="moveNoBtn()" id="noBtn" style="background: rgba(255,255,255,0.1); box-shadow: none; font-size: 0.9rem; padding: 10px 30px;">No</button>
    </div>
  </div>

  <!-- SCREEN 6: Finale -->
  <div class="screen" id="screen-6">
    <div class="finale-hearts">ğŸ’•ğŸ’–ğŸ’•</div>
    <h1>Yaaay! ğŸ¥³</h1>
    <h2>Ich wusste es! ğŸ’•</h2>
    <div class="finale-message">
      Du hast alle Fragen richtig beantwortet!<br><br>
      Noch <strong>11 Tage</strong> bis ich dich wieder in meinen Armen halten kann...<br><br>
      Ich liebe dich unendlich â¤ï¸â€ğŸ”¥<br><br>
      Happy Valentine's Day, mein Schatz! ğŸ’Œ
    </div>
    <div class="big-heart" style="margin-top: 30px;">ğŸ’</div>
  </div>

</div>

<script>
  // Create floating hearts
  const heartsBg = document.getElementById('heartsBg');
  const heartEmojis = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'â¤ï¸', 'ğŸ’˜', 'ğŸ’', 'âœ¨', 'ğŸŒ¸'];
  for (let i = 0; i < 25; i++) {
    const heart = document.createElement('div');
    heart.classList.add('floating-heart');
    heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
    heart.style.left = Math.random() * 100 + '%';
    heart.style.fontSize = (Math.random() * 20 + 14) + 'px';
    heart.style.animationDuration = (Math.random() * 10 + 8) + 's';
    heart.style.animationDelay = (Math.random() * 10) + 's';
    heartsBg.appendChild(heart);
  }

  let currentScreen = 0;

  function openEnvelope() {
    const env = document.getElementById('envelope');
    env.classList.add('open');
    setTimeout(() => {
      document.getElementById('startBtn').style.display = 'inline-block';
      document.getElementById('startBtn').style.animation = 'fadeIn 0.5s ease';
    }, 800);
  }

  function startQuiz() {
    goToScreen(1);
  }

  function goToScreen(n) {
    document.getElementById('screen-' + currentScreen).classList.remove('active');
    currentScreen = n;
    const next = document.getElementById('screen-' + n);
    next.classList.remove('active');
    // Force reflow for animation
    void next.offsetWidth;
    next.classList.add('active');
    // Update progress bar
    const progress = (n / 6) * 100;
    document.getElementById('progressBar').style.width = progress + '%';
  }

  function updateSlider() {
    const val = document.getElementById('loveSlider').value;
    document.getElementById('sliderValue').textContent = val + '%';
  }

  function checkAnswer(q) {
    const feedbackEl = document.getElementById('feedback' + q);
    let correct = false;

    switch(q) {
      case 1: {
        const ans = document.getElementById('answer1').value.trim().toLowerCase();
        correct = ans === 'griechenland' || ans === 'greece' || ans === 'griecheland';
        if (!correct) {
          feedbackEl.textContent = 'Hmm, das stimmt nicht ganz... Versuch nochmal! ğŸ¤”';
          feedbackEl.className = 'feedback error';
          shakeCard(1);
        }
        break;
      }
      case 2: {
        const ans = document.getElementById('answer2').value.trim();
        correct = ans === '6';
        if (!correct) {
          feedbackEl.textContent = 'Nicht ganz... ZÃ¤hl nochmal nach! ğŸ’­';
          feedbackEl.className = 'feedback error';
          shakeCard(2);
        }
        break;
      }
      case 3: {
        const ans = document.getElementById('answer3').value.trim();
        correct = ans === '11' || ans === '12';
        if (!correct) {
          feedbackEl.textContent = 'Falsch! Schau nochmal in den Kalender ğŸ“…';
          feedbackEl.className = 'feedback error';
          shakeCard(3);
        }
        break;
      }
      case 4: {
        const val = parseInt(document.getElementById('loveSlider').value);
        correct = val === 100;
        if (!correct) {
          feedbackEl.textContent = 'Mehr! Schieb den Regler ganz nach rechts! ğŸ’–';
          feedbackEl.className = 'feedback error';
          shakeCard(4);
        }
        break;
      }
      case 5: {
        correct = true; // "Yes" button always correct
        break;
      }
    }

    if (correct) {
      if (feedbackEl) {
        feedbackEl.textContent = 'Richtig! ğŸ‰';
        feedbackEl.className = 'feedback success';
      }
      if (q === 5) {
        launchConfetti();
      }
      setTimeout(() => {
        goToScreen(q + 1);
      }, q === 5 ? 500 : 1000);
    }
  }

  function shakeCard(q) {
    const card = document.querySelector('#screen-' + q + ' .card');
    if (card) {
      card.classList.add('shake');
      setTimeout(() => card.classList.remove('shake'), 500);
    }
  }

  // "No" button runs away
  function moveNoBtn() {
    const btn = document.getElementById('noBtn');
    const x = Math.random() * (window.innerWidth - 100);
    const y = Math.random() * (window.innerHeight - 50);
    btn.style.position = 'fixed';
    btn.style.left = x + 'px';
    btn.style.top = y + 'px';
    btn.style.zIndex = '999';
    btn.style.transition = 'all 0.3s ease';

    // Make Yes button bigger each time
    const yesBtn = document.getElementById('yesBtn');
    const currentSize = parseFloat(getComputedStyle(yesBtn).fontSize);
    yesBtn.style.fontSize = (currentSize + 3) + 'px';
  }

  // Confetti
  function launchConfetti() {
    const colors = ['#ff6b9d', '#c44dff', '#ff3d7f', '#ffd700', '#ff69b4', '#9d6bff', '#ff85a2'];
    for (let i = 0; i < 120; i++) {
      const confetti = document.createElement('div');
      confetti.classList.add('confetti-piece');
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.top = '-10px';
      confetti.style.width = (Math.random() * 10 + 5) + 'px';
      confetti.style.height = (Math.random() * 10 + 5) + 'px';
      confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
      confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear ${Math.random() * 2}s forwards`;
      document.body.appendChild(confetti);
      setTimeout(() => confetti.remove(), 5000);
    }
  }
</script>
</body>
</html>
